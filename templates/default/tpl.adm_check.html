<script type="text/javascript">
<!--
function handleScanOnly(form)
{
	if (form.analyze.checked)
	{
		form.clean.disabled = true;
		form.restore.disabled = true;
		form.purge.disabled = true;
		form.restore_trash.disabled = true;
		form.purge_trash.disabled = true;
	}
	else
	{
		form.clean.disabled = false;
		
		if (!form.purge.checked)
		{
			form.restore.disabled = false;
		}
		
		if (!form.restore.checked)
		{
			form.purge.disabled = false;
		}
		
		if (!form.purge_trash.checked)
		{
			form.restore_trash.disabled = false;
		}
		
		if (!form.restore_trash.checked)
		{
			form.purge_trash.disabled = false;
		}
	}
}



function handleClean(form)
{
	if (form.restore.checked || form.purge.checked || form.restore_trash.checked || form.purge_trash.checked)
	{
		form.clean.checked = true;
		alert("Cleaning process is required for restore/purge");
	}
}

function handleRestore(form)
{
	if (!form.clean.checked && form.restore.checked)
	{
		form.clean.checked = true;
	}
	
	if (form.restore.checked)
	{
		form.purge.disabled = true;
	}
	else
	{
		form.purge.disabled = false;	
	}
}

function handlePurge(form)
{
	if (!form.clean.checked && form.purge.checked)
	{
		form.clean.checked = true;
	}
	
	if (form.purge.checked)
	{
		form.restore.disabled = true;
	}
	else
	{
		form.restore.disabled = false;	
	}
}

function handleRestoreTrash(form)
{
	if (!form.clean.checked && form.restore_trash.checked)
	{
		form.clean.checked = true;
	}
	
	if (form.restore_trash.checked)
	{
		form.purge_trash.disabled = true;
	}
	else
	{
		form.purge_trash.disabled = false;	
	}
}

function handlePurgeTrash(form)
{
	if (!form.clean.checked && form.purge_trash.checked)
	{
		form.clean.checked = true;
	}
	
	if (form.purge_trash.checked)
	{
		form.restore_trash.disabled = true;
	}
	else
	{
		form.restore_trash.disabled = false;	
	}
}
//-->
</script>
<form action="{FORMACTION}" name="ScanOptions" method="post">
<table class="fullwidth">
<tr class="tbltitle">
  <td colspan="{COLSPAN}">
  <table class="fullwidth_invisible">
    <tr class="tbltitle">
	  <td class="tbltitle" align="left">&nbsp;{TXT_ANALYZE_TITLE}</td>
	  <td align="right">&nbsp;</td>
	</tr>
  </table>
  </td>
</tr>
  <tr class="tblheader">
    <td class="std" colspan="3">{TXT_OPTIONS}</td>
  </tr>
  <tr>
   <td class="option"><label for="analyze">{TXT_ANALYZE}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[analyze]"  value="1" id="analyze" checked="checked" onClick="handleScanOnly(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_ANALYZE_DESC}</td>
  </tr>
<!-- disabled 
  <tr>
   <td class="option"><label for="check_tree">{TXT_CHECK_TREE}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[check_tree]"  value="1" id="check_tree" onClick="handleScanOnly(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_CHECK_TREE_DESC}</td>
  </tr>  disabled //-->
  <tr>
   <td class="option"><label for="clean">{TXT_CLEAN}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[clean]" value="1" id="clean" disabled="disabled" onClick="handleClean(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_CLEAN_DESC}</td>
  </tr>
  <tr>
   <td class="option"><label for="restore">{TXT_RESTORE}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[restore]" value="1" id="restore" disabled="disabled" onClick="handleRestore(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_RESTORE_DESC}</td>
  </tr>
  <tr>
   <td class="option"><label for="purge">{TXT_PURGE}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[purge]"  value="1" id="purge" disabled="disabled" onClick="handlePurge(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_PURGE_DESC}</td>
  </tr>
  <tr>
   <td class="option"><label for="restore_trash">{TXT_RESTORE_TRASH}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[restore_trash]" id="restore_trash" disabled="disabled" value="1" onClick="handleRestoreTrash(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_RESTORE_TRASH_DESC}</td>
  </tr>
  <tr>
   <td class="option"><label for="purge_trash">{TXT_PURGE_TRASH}</label></td>
   <td class="option_value"><input type="checkbox" name="mode[purge_trash]" id="purge_trash" disabled="disabled" value="1" onClick="handlePurgeTrash(document.ScanOptions)" /></td>
   <td class="option_desc">{TXT_PURGE_TRASH_DESC}</td>
  </tr>
  <tr>
   <td class="option"><label for="log_scan">{TXT_LOG_SCAN}</label></td>
   <td class="option_value"><input type="checkbox" name="log_scan" id="log_scan" value="1" checked="checked"/></td>
   <td class="option_desc">{TXT_LOG_SCAN_DESC}</td>
  </tr>
  <tr>
	<td class="submit" colspan="3" align="right">
<!-- BEGIN BTN_VIEW_LOG -->
	<input class="submit" type="submit" name="systemcheck[viewScanLog]" value="{TXT_VIEW_LOG}"/>
<!-- END BTN_VIEW_LOG -->
	<input class="submit" type="submit" name="cmd[check]" value="{TXT_SUBMIT}"/>
	</td>
  </tr>
</table>
</form>